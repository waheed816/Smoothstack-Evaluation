{% extends 'base.html' %}

{% block content %}

{% if current_user.is_authenticated %}


    <div class="border container shadow p-3" style="background-color: white;">
        <h3 class="alert alert-warning fade show" role="alert">
            You Must Logout to Register a New User.
        </h3>
        <a class="btn btn-light", style="border-color: rgba(82,186,202,255); color: rgba(82,186,202,255)" href="{{ url_for('logout') }}">Logout</a>
    </div>

{% else %}

    <div class="border container shadow p-4" style="background-color: white;">

        {% for message in get_flashed_messages() %}
                    <div class="alert alert-warning alert-dismissible fade show" role="alert">
                        {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>
        {% endfor %}

        <h2 style="border-bottom: 1px solid black;">Join Today</h2>
        <br/>


        <form method="POST" novalidate>

            {{ form.hidden_tag() }}

            {{form.username.label(
                class="form-label") }}
            <br/>

            {{form.username(
                class="form-control",
                style="border-color: red;" if form.errors.username else "")
            }}

            {% if form.errors.username %}
                <p style="color: red; font-size: x-small; margin-top: 3px; margin-bottom: 0; padding-bottom: 0;">
                    {{ form.errors.username[0] }}
                </p>
            {% endif %}
            <br/>

            {{form.email.label(
                class="form-label") }}
            <br/>

            {{form.email(
                class="form-control",
                style="border-color: red;" if form.errors.email else "")

            }}

            {% if form.errors.email %}
                <p style="color: red; font-size: x-small; margin-top: 3px; margin-bottom: 0; padding-bottom: 0;">
                    {{ form.errors.email[0] }}
                </p>
            {% endif %}
            <br/>

            {{form.hashed_password.label(
                class="form-label") }}
            <br/>

            {{form.hashed_password(
                class="form-control",
                style="border-color: red;" if form.errors.hashed_password else "")
            }}

            {% if form.errors.hashed_password %}
                <p style="color: red; font-size: x-small; margin-top: 3px; margin-bottom: 0; padding-bottom: 0;">
                    {{ form.errors.hashed_password[0] }}
                </p>
            {% endif %}
            <br/>

            {{form.confirm_password.label(
                class="form-label") }}
            <br/>

            {{form.confirm_password(
                class="form-control",
                style="border-color: red;" if form.errors.confirm_password else "")
            }}

            {% if form.errors.confirm_password %}
                <p style="color: red; font-size: x-small; margin-top: 3px; margin-bottom: 0; padding-bottom: 0;">
                    {{ form.errors.confirm_password[0] }}
                </p>

            {% endif %}
            <br/>

            {{form.submit(
                class="btn btn-light", style="border-color: rgba(82,186,202,255); color: rgba(82,186,202,255); margin-top: 13px;") }}
            <br/>

        </form>
    </div>
    <hr/>
    Already Have An Account? &nbsp;&nbsp; <a href="{{url_for('login')}}" style="text-decoration: none;">Sign In</a>
    <br/>
    <br/>
    <br/>

    {% endif %}

{% endblock %}
